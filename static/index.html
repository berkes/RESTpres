<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>REST API implementaties</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
  

  
    
    <link rel="stylesheet" href=".//file/showoff.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>


<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src="/css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<div id="intro/01_titel" class="slide center" data-transition="none"><div class="content center" ref="intro/01_titel/1">
<h1>REST API implementaties</h1>

<h2>Nijmegen Developer Meetup - 24 mei 2016</h2>

<blockquote>
<p>Hoe bouw ik een goede REST API?</p>
</blockquote></div>
</div><div id="intro/01_titel" class="slide center" data-transition="none"><div class="content center" ref="intro/01_titel/2">
<p><img src="./file/intro/installing.png" width="262" height="405" alt="But still, my scheme for creating and saving user config files and data locally to preserve them across reinstalls might be useful for--wait, that's cookies."/></p>

<p><a href="https://xkcd.com/1367/">From xkcd</a></p></div>
</div><div id="intro/02_over" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="intro/02_over/1">
<h1>Over</h1>

<ul>
<li>B&#xE8;r Kessels</li>
<li>@berkes, github.com/berkes</li>
<li>Ruby Developer</li>
</ul></div>
</div><div id="intro/02_over" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="intro/02_over/2">
<h1>Over de presentatie</h1>

<ul>
<li>Staat op <a href="http://berk.es/RESTpres">berk.es/RESTpres</a>
</li>
<li>Github: <a href="http://github.com/berkes/RESTpres">github.com/berkes/RESTpres</a>
</li>
</ul></div>
</div><div id="intro/02_over" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="intro/02_over/3">
<h1>Over mij en REST API implementaties</h1>

<ul>
<li>Ik bouw een REST API voor een betaalapp en -platform.</li>
<li>Ik ontwikkelde de API voor Wiebetaaltwat</li>
<li>Ik ontwikkelde een API voor Savvii, Nijmeegse WordPress Hosting</li>
</ul></div>
</div><div id="intro/03_inhoud" class="slide bullets" data-transition="none"><div class="content bullets" ref="intro/03_inhoud">
<ul>
<li>APIs</li>
<li>REST principe</li>
<li>HATEOAS, Hypertext As The Engine Of Application State.</li>
<li>JSON</li>
<li>Willekeurige Tips</li>
<li>ToiletBuffer - Who's next?</li>
<li>Links</li>
</ul></div>
</div><div id="APIs/01_titel" class="slide center" data-transition="none"><div class="content center" ref="APIs/01_titel">
<h1>APIs</h1></div>
</div><div id="APIs/02_about_APIs" class="slide " data-transition="none"><div class="content " ref="APIs/02_about_APIs/1">
<h1>APIs</h1>

<h2>Application programming interface</h2>

<blockquote>
<p>In computer programming, an application programming interface (API) is a set of routines, protocols, and tools for building software and applications. -- Wikipedia</p>
</blockquote>

<h2>As opposed to UI, User Interfaces</h2></div>
</div><div id="APIs/02_about_APIs" class="slide " data-transition="none"><div class="content " ref="APIs/02_about_APIs/2">
<h1>Web API, Web service</h1>

<ul>
<li>
<p>Wikipedia</p>

<blockquote>
<p>A Web service is a service offered by an electronic device to another electronic device, communicating with each other via the World Wide Web</p>
</blockquote>
</li>
<li>
<p>W3C</p>

<blockquote>
<p>a software system designed to support interoperable machine-to-machine interaction over a network.</p>
</blockquote>
</li>
</ul></div>
</div><div id="REST/01_titel" class="slide center" data-transition="none"><div class="content center" ref="REST/01_titel">
<h1>REST</h1></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/1">
<h1>REST - Roy Fielding</h1>

<ul>
<li>Roy Fielding: een van de bedenkers van HTTP</li>
<li><a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm">Dissertation</a></li>
<li>
<em>RE</em>presentatational <em>S</em>tate <em>T</em>ransfer</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/2">
<h1>REST Constraints</h1>

<ul>
<li>Uniform Interface</li>
<li>Stateless</li>
<li>Cacheable</li>
<li>Client-Server</li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/3">
<h1>REST Constraints - Stateless</h1>

<ul>
<li>Uniform Interface</li>
<li><strong>Stateless</strong></li>
<li>Cacheable</li>
<li>Client-Server</li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/4">
<h1>REST Constraints - Stateless</h1>

<ul>
<li>Alle data zit in het request.</li>
<li>Alle data zit in het response.</li>
<li>Clients <strong>hoeven</strong> nooit iets op te slaan of te onthouden (ook geen cookies)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/5">
<h1>REST Constraints - Cachable</h1>

<ul>
<li>Uniform Interface</li>
<li>Stateless</li>
<li><strong>Cacheable</strong></li>
<li>Client-Server</li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/6">
<h1>REST Constraints - Cachable</h1>

<ul>
<li>Clients en servers kunnen cache onderhandelen.</li>
<li>Proxies kunnen cachen.</li>
<li>GET, HEAD, OPTIONS. Niet PATCH, PUT, POST of DELETE.</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide code" data-transition="none"><div class="content code" ref="REST/02_REST_basis/7">
<pre><code>curl -i http://localhost:3000/toilet-locations/63a4a8ce-191f-4812-b242-6093139c879e

curl -H 'If-None-Match: W/"aa2d5488ac813807a86ef275b4fbf85a"' -i http://localhost:3000/toilet-locations/63a4a8ce-191f-4812-b242-6093139c879e
</code></pre></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/8">
<h1>REST Constraints - Client-Server</h1>

<ul>
<li>Uniform Interface</li>
<li>Stateless</li>
<li>Cacheable</li>
<li><strong>Client-Server</strong></li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/9">
<h1>REST Constraints - Client-Server</h1>

<ul>
<li>Dat is het hele doel van een Web API.</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/10">
<h1>REST Constraints - Layered System</h1>

<ul>
<li>Uniform Interface</li>
<li>Stateless</li>
<li>Cacheable</li>
<li>Client-Server</li>
<li><strong>Layered System</strong></li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/11">
<h1>REST Constraints - Layered System</h1>

<ul>
<li>Client &#x27F7; Applicatie</li>
<li>Client &#x27F7;  Proxy &#x27F7;  Load Balancer &#x27F7;  Webserver &#x27F7;  Applicatie</li>
<li>Is hetzelfde</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/12">
<h1>REST Constraints  - Uniform Interface</h1>

<ul>
<li><strong>Uniform Interface</strong></li>
<li>Stateless</li>
<li>Cacheable</li>
<li>Client-Server</li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/13">
<h1>REST Constraints - Uniform Interface</h1>

<ul>
<li>Resource-Based</li>
<li>Manipulation of Resources Through Representations</li>
<li>Self-descriptive Messages</li>
<li>Hypermedia as the Engine of Application State (HATEOAS)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/14">
<h1>REST Constraints - Uniform Interface  - Resource Based</h1>

<ul>
<li><strong>Resource-Based</strong></li>
<li>Manipulation of Resources Through Representations</li>
<li>Self-descriptive Messages</li>
<li>Hypermedia as the Engine of Application State (HATEOAS)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/15">
<h1>REST Constraints - Uniform Interface  - Resource Based</h1>

<ul>
<li>Interactie met Concepten en Domein models.</li>
<li>Geen vervanging van een Database, maar abtractie daarvan.</li>
<li>
<strong>Acties</strong> op <strong>Dingen</strong>
</li>
<li>Niet <strong>Acties</strong>
</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/16">
<h1>Example</h1>

<ul>
<li>We have toilet-location</li>
<li>We want to add a rating</li>
<li>What do we do?</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide code" data-transition="none"><div class="content code" ref="REST/02_REST_basis/17">
<p>POST /toilet-locations/{id}/ratings
        { rating: { stars: 5 } }</p>

<p>VS</p>

<p>POST /toilet-locations/rate
        { stars: 5 }</p></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/18">
<h1>REST Constraints - Uniform Interface  - Manipulation</h1>

<ul>
<li>Resource-Based</li>
<li><strong>Manipulation of Resources Through Representations</strong></li>
<li>Self-descriptive Messages</li>
<li>Hypermedia as the Engine of Application State (HATEOAS)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/19">
<h1>REST Constraints - Uniform Interface  - Manipulation</h1>

<ul>
<li>Wanneer een client een <em>weergave van een resource heeft</em>, inclusief metadata,
heeft de client <em>genoeg informatie</em> om het te bewerken, vernieuwen of verwijderen.</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide code" data-transition="none"><div class="content code" ref="REST/02_REST_basis/20">
<pre><code>curl -s http://localhost:3000/toilet-locations/02472a1b-58c3-4e36-acc9-a593117b3642 | json_pp
</code></pre></div>
</div><div id="REST/02_REST_basis" class="slide bullets" data-transition="none"><div class="content bullets" ref="REST/02_REST_basis/21">
<h1>REST Constraints - Uniform Interface  - Self-descriptive</h1>

<ul>
<li>Resource-Based</li>
<li>Manipulation of Resources Through Representations</li>
<li><strong>Self-descriptive Messages</strong></li>
<li>Hypermedia as the Engine of Application State (HATEOAS)</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="REST/02_REST_basis/22">
<h1>REST Constraints - Uniform Interface  - Self-descriptive</h1>

<ul>
<li>Alle informatie om te verwerken zit in het resource</li>
<li>MIME-types</li>
<li>Encoding</li>
<li>Cacheability</li>
</ul></div>
</div><div id="REST/02_REST_basis" class="slide code" data-transition="none"><div class="content code" ref="REST/02_REST_basis/23">
<pre><code>curl -s http://localhost:3000/toilet-locations/4b17022e-f581-4432-8549-f728776c0404 | json_pp
</code></pre></div>
</div><div id="REST/02_REST_basis" class="slide code" data-transition="none"><div class="content code" ref="REST/02_REST_basis/24">
<pre><code>curl -s -I http://localhost:3000/toilet-locations/02472a1b-58c3-4e36-acc9-a593117b3642
</code></pre></div>
</div><div id="HATEOAS/01_titel" class="slide center" data-transition="none"><div class="content center" ref="HATEOAS/01_titel">
<h1>HATEOAS</h1></div>
</div><div id="HATEOAS/02_hyperlink" class="slide center" data-transition="none"><div class="content center" ref="HATEOAS/02_hyperlink/1">
<h1><a href="https://twitter.com/berkes/status/734763358344339457">wat is dit?</a></h1></div>
</div><div id="HATEOAS/02_hyperlink" class="slide bullets" data-transition="none"><div class="content bullets" ref="HATEOAS/02_hyperlink/2">
<h1>Hypermedia</h1>

<ul>
<li>media that has hyperlinks</li>
</ul></div>
</div><div id="HATEOAS/02_hyperlink" class="slide bullets" data-transition="none"><div class="content bullets" ref="HATEOAS/02_hyperlink/3">
<h1>HATEOAS</h1>

<blockquote>
<p>A REST client needs <em>no prior knowledge</em> about how to interact with any particular application or server beyond a <em>generic understanding of hypermedia</em>.</p>
</blockquote></div>
</div><div id="HATEOAS/02_hyperlink" class="slide bullets" data-transition="none"><div class="content bullets" ref="HATEOAS/02_hyperlink/4">
<h1>Het voordeel van HATEOAS</h1>

<blockquote>
<p>The HATEOAS constraint decouples client and server in a way that allows the server functionality to evolve independently.</p>
</blockquote></div>
</div><div id="HATEOAS/02_hyperlink" class="slide bullets" data-transition="none"><div class="content bullets" ref="HATEOAS/02_hyperlink/5">
<h1>Engine of Application State</h1>

<ul>
<li><a href="https://twitter.com/berkes/status/734763358344339457">A state machine</a></li>
<li><a href="https://www.google.nl/?q=pager#safe=off&amp;q=pager">Another State Machine</a></li>
</ul></div>
</div><div id="HATEOAS/02_hyperlink" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="HATEOAS/02_hyperlink/6">
<h1>Hoe HATEOAS te implementeren?</h1>

<ul>
<li>Links</li>
<li>Interne documentatie, beschrijvende elementen</li>
<li>OPTIONS</li>
</ul></div>
</div><div id="HATEOAS/02_hyperlink" class="slide code" data-transition="none"><div class="content code" ref="HATEOAS/02_hyperlink/7">
<ul>
<li>curl -s http://localhost:3000/toilet-locations | json_pp</li>
</ul></div>
</div><div id="JSON/01_titel" class="slide center" data-transition="none"><div class="content center" ref="JSON/01_titel">
<h1>JSON</h1></div>
</div><div id="JSON/02_json_vs_xml" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="JSON/02_json_vs_xml/1">
<h1>XML of JSON</h1>

<ul>
<li>JSON. Het is de standaard</li>
</ul></div>
</div><div id="JSON/02_json_vs_xml" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="JSON/02_json_vs_xml/2">
<h1>Of XML?</h1>

<ul>
<li>Pro: compacter.</li>
<li>Enige echt succesvolle RESTclient gebruikt... XML (okay, HTML)</li>
<li>Con: extra DTDs of parsing instructies nodig.</li>
</ul></div>
</div><div id="JSON/02_json_vs_xml" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="JSON/02_json_vs_xml/3">
<h1>anti-bikeshedding: Jsonapi.org</h1>

<ul>
<li>Opbouw van resources</li>
<li>Opbouw van Errors</li>
<li>Afhandelen van paging, sorting, filtering.</li>
</ul></div>
</div><div id="tips/01_titel" class="slide center" data-transition="none"><div class="content center" ref="tips/01_titel">
<h1>Tips</h1></div>
</div><div id="tips/02_tips" class="slide center" data-transition="none"><div class="content center" ref="tips/02_tips/1">
<h1>UUIDs</h1></div>
</div><div id="tips/02_tips" class="slide center" data-transition="none"><div class="content center" ref="tips/02_tips/2">
<h1>HTTPS</h1></div>
</div><div id="tips/02_tips" class="slide center" data-transition="none"><div class="content center" ref="tips/02_tips/3">
<h1>Versioning met Headers</h1>

<pre><code>Accept-Version: 1
</code></pre></div>
</div><div id="tips/02_tips" class="slide center" data-transition="none"><div class="content center" ref="tips/02_tips/4">
<h1>Authenticatie met tokens</h1>

<pre><code>Authorization: Token token="abc", nonce="def"
</code></pre></div>
</div><div id="tips/02_tips" class="slide center" data-transition="none"><div class="content center" ref="tips/02_tips/5">
<h1>Gebruik een REST client buiten je stack</h1>

<ul>
<li>REST/HTTP is simpel genoeg.</li>
<li>State, (de)-serializing enzovoort zit niet in de weg.</li>
<li>Gewoon een simpel request is zo gedaan.</li>
<li>cURL, Paw (OSX), Addons voor Firefox en Chrome.</li>
</ul></div>
</div><div id="ToiletBuffer/01_title" class="slide center" data-transition="none"><div class="content center" ref="ToiletBuffer/01_title">
<h1>ToiletBuffer</h1></div>
</div><div id="ToiletBuffer/02_toilet_buffer" class="slide center" data-transition="none"><div class="content center" ref="ToiletBuffer/02_toilet_buffer/1">
<blockquote>
<p>Bekijk en deel waar nog toiletten beschikbaar zijn op de vierdaagse-feesten.</p>
</blockquote></div>
</div><div id="ToiletBuffer/02_toilet_buffer" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="ToiletBuffer/02_toilet_buffer/2">
<ul>
<li>Aanknopingspunt voor een volgende talk?</li>
<li>Zin om hierop door te borduren?</li>
<li>Zin om dit verder uit te werken?</li>
</ul></div>
</div><div id="ToiletBuffer/02_toilet_buffer" class="slide bullets incremental" data-transition="none"><div class="content bullets incremental" ref="ToiletBuffer/02_toilet_buffer/3">
<ul>
<li>Ember, Angular, React of ander webfrontend</li>
<li>Android of iOS app</li>
<li>Een Raspberry-pi met "toiletrijindicator"</li>
<li>Dashboard of stats in R, Python of andere statistics-suite</li>
<li>En wil je daar wat over vertellen?</li>
</ul></div>
</div><div id="outro/01_link" class="slide bullets" data-transition="none"><div class="content bullets" ref="outro/01_link">
<ul>
<li><a href="http://berk.es/RESTpres">berk.es/RESTpres</a></li>
<li><a href="http://jsonapi.org">jsonapi.org</a></li>
<li><a href="http://toiletbuffer.webschuur.com">toiletbuffer.webschuur.com</a></li>
</ul></div>
</div></div>
<div id="pauseScreen">
  PAUSED
</div>

</body>
</html>
